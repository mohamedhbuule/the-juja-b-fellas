<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Book Session - The Juja B Fellas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/common.css" />
    <link rel="stylesheet" href="styles/sessions.css" />
    <link rel="icon" href="logo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- EmailJS SDK -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script>
      // Initialize EmailJS (replace with your public key)
      (function () {
        emailjs.init('YOUR_PUBLIC_KEY'); // Replace with your EmailJS public key
      })();
    </script>
  </head>
  <body>
    <!-- Side Navigation -->
    <nav id="sideNav" class="side-nav">
      <div class="nav-header">
        <div class="nav-logo">
          <span class="logo-icon">üïå</span>
          <span class="logo-text">Juja B Fellas</span>
        </div>
        <button class="nav-close" id="navClose">√ó</button>
      </div>
      <ul class="nav-menu">
        <li><a href="home.html" class="nav-link">üè† Home</a></li>
        <li><a href="about.html" class="nav-link">üìñ About</a></li>
        <li>
          <a href="sessions.html" class="nav-link active">üìÖ Book Session</a>
        </li>
        <li><a href="subjects.html" class="nav-link">üìö Subjects</a></li>
        <li><a href="quotes.html" class="nav-link">üí¨ Motivation</a></li>
        <li><a href="contact.html" class="nav-link">üìß Contact</a></li>
        <li><a href="profile.html" class="nav-link">üë§ Profile</a></li>
        <li>
          <button class="nav-link logout-btn" id="logoutBtn">üö™ Logout</button>
        </li>
      </ul>
      <div class="nav-footer">
        <p class="user-info" id="userInfo"></p>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <button class="nav-toggle" id="navToggle">‚ò∞</button>

      <section class="booking-section">
        <div class="container">
          <h1 class="page-title">Book Your Revision Session</h1>
          <p class="page-subtitle">
            You can book multiple sessions per day. Each session can have
            different subject and venue.
          </p>

          <!-- Booking Steps Indicator -->
          <div class="steps-indicator">
            <div class="step active" data-step="1">
              <div class="step-number">1</div>
              <div class="step-label">Date</div>
            </div>
            <div class="step-line"></div>
            <div class="step" data-step="2">
              <div class="step-number">2</div>
              <div class="step-label">Time</div>
            </div>
            <div class="step-line"></div>
            <div class="step" data-step="3">
              <div class="step-number">3</div>
              <div class="step-label">Subject</div>
            </div>
            <div class="step-line"></div>
            <div class="step" data-step="4">
              <div class="step-number">4</div>
              <div class="step-label">Venue</div>
            </div>
          </div>

          <!-- Booking Form -->
          <div class="booking-container">
            <form id="bookingForm" class="booking-form">
              <!-- Step 1: Date Selection -->
              <div class="form-step active" data-step="1">
                <h2>Select Date</h2>
                <p>Choose the date for your session (2nd - 6th February)</p>
                <div class="date-grid">
                  <label class="date-option">
                    <input
                      type="radio"
                      name="sessionDate"
                      value="2026-02-02"
                      required
                    />
                    <div class="date-card">
                      <div class="date-day">2</div>
                      <div class="date-month">Feb</div>
                      <div class="date-year">2026</div>
                    </div>
                  </label>
                  <label class="date-option">
                    <input
                      type="radio"
                      name="sessionDate"
                      value="2026-02-03"
                      required
                    />
                    <div class="date-card">
                      <div class="date-day">3</div>
                      <div class="date-month">Feb</div>
                      <div class="date-year">2026</div>
                    </div>
                  </label>
                  <label class="date-option">
                    <input
                      type="radio"
                      name="sessionDate"
                      value="2026-02-04"
                      required
                    />
                    <div class="date-card">
                      <div class="date-day">4</div>
                      <div class="date-month">Feb</div>
                      <div class="date-year">2026</div>
                    </div>
                  </label>
                  <label class="date-option">
                    <input
                      type="radio"
                      name="sessionDate"
                      value="2026-02-05"
                      required
                    />
                    <div class="date-card">
                      <div class="date-day">5</div>
                      <div class="date-month">Feb</div>
                      <div class="date-year">2026</div>
                    </div>
                  </label>
                  <label class="date-option">
                    <input
                      type="radio"
                      name="sessionDate"
                      value="2026-02-06"
                      required
                    />
                    <div class="date-card">
                      <div class="date-day">6</div>
                      <div class="date-month">Feb</div>
                      <div class="date-year">2026</div>
                    </div>
                  </label>
                </div>
                <button type="button" class="btn-primary next-step">
                  Next: Choose Time
                </button>
              </div>

              <!-- Step 2: Time Selection -->
              <div class="form-step" data-step="2">
                <h2>Select Time</h2>
                <p>Choose your session start and end time (24 hours available)</p>
                <div class="time-selection-container">
                  <div class="time-select-group">
                    <label for="startTime" class="time-label">
                      <span class="time-label-icon">üïê</span>
                      Start Time
                    </label>
                    <select id="startTime" name="startTime" class="time-select" required>
                      <option value="">Select start time...</option>
                    </select>
                  </div>
                  <div class="time-arrow">‚Üí</div>
                  <div class="time-select-group">
                    <label for="endTime" class="time-label">
                      <span class="time-label-icon">üïê</span>
                      <span data-translate="End Time">End Time</span>
                    </label>
                    <select id="endTime" name="endTime" class="time-select" required>
                      <option value="">Select end time...</option>
                    </select>
                  </div>
                </div>
                <div class="duration-display" id="durationDisplay">
                  <span class="duration-icon">‚è±Ô∏è</span>
                  <span class="duration-text">Select times to see duration</span>
                </div>
                <div class="step-actions">
                  <button type="button" class="btn-secondary prev-step">
                    ‚Üê Back
                  </button>
                  <button type="button" class="btn-primary next-step">
                    <span data-translate="Next: Choose Subject">Next: Choose Subject</span>
                  </button>
                </div>
              </div>

              <!-- Step 3: Subject Selection -->
              <div class="form-step" data-step="3">
                <h2>Select Subject</h2>
                <p>Choose the subject you want to study</p>
                <div class="subject-grid">
                  <label class="subject-option">
                    <input
                      type="radio"
                      name="sessionSubject"
                      value="Science of Hadith"
                      required
                    />
                    <div class="subject-card">
                      <div class="subject-icon">üìò</div>
                      <div class="subject-name">Science of Hadith</div>
                    </div>
                  </label>
                  <label class="subject-option">
                    <input
                      type="radio"
                      name="sessionSubject"
                      value="Jurisprudence"
                      required
                    />
                    <div class="subject-card">
                      <div class="subject-icon">‚öñÔ∏è</div>
                      <div class="subject-name" data-translate="Jurisprudence">Jurisprudence</div>
                    </div>
                  </label>
                  <label class="subject-option">
                    <input
                      type="radio"
                      name="sessionSubject"
                      value="Principles of Islamic Jurisprudence"
                      required
                    />
                    <div class="subject-card">
                      <div class="subject-icon">üìú</div>
                      <div class="subject-name">
                        <span data-translate="Principles of Islamic Jurisprudence">Principles of Islamic Jurisprudence</span>
                      </div>
                    </div>
                  </label>
                  <label class="subject-option">
                    <input
                      type="radio"
                      name="sessionSubject"
                      value="Translation of the Quran"
                      required
                    />
                    <div class="subject-card">
                      <div class="subject-icon">üìø</div>
                      <div class="subject-name" data-translate="Translation of the Quran">Translation of the Quran</div>
                    </div>
                  </label>
                  <label class="subject-option">
                    <input
                      type="radio"
                      name="sessionSubject"
                      value="Hadith"
                      required
                    />
                    <div class="subject-card">
                      <div class="subject-icon">üìñ</div>
                      <div class="subject-name" data-translate="Hadith">Hadith</div>
                    </div>
                  </label>
                </div>
                <div class="step-actions">
                  <button type="button" class="btn-secondary prev-step">
                    ‚Üê Back
                  </button>
                  <button type="button" class="btn-primary next-step" data-translate="Next: Choose Venue">
                    <span data-translate="Next: Choose Venue">Next: Choose Venue</span>
                  </button>
                </div>
              </div>

              <!-- Step 4: Venue Selection -->
              <div class="form-step" data-step="4">
                <h2 data-translate="Select Venue">Select Venue</h2>
                <p data-translate="Choose your preferred venue">Choose your preferred venue</p>
                <div class="venue-grid">
                  <label class="venue-option">
                    <input
                      type="radio"
                      name="sessionVenue"
                      value="Home"
                      data-requires-floor="false"
                      required
                    />
                    <div class="venue-card">
                      <div class="venue-icon">üè†</div>
                      <div class="venue-name" data-translate="Home">Home</div>
                    </div>
                  </label>
                  <label class="venue-option">
                    <input
                      type="radio"
                      name="sessionVenue"
                      value="Al Basiirah Mosque"
                      data-requires-floor="false"
                      required
                    />
                    <div class="venue-card">
                      <div class="venue-icon">üïå</div>
                      <div class="venue-name" data-translate="Al Basiirah Mosque">Al Basiirah Mosque</div>
                    </div>
                  </label>
                  <label class="venue-option">
                    <input
                      type="radio"
                      name="sessionVenue"
                      value="Al Hijaaz Mosque"
                      data-requires-floor="false"
                      required
                    />
                    <div class="venue-card">
                      <div class="venue-icon">üïå</div>
                      <div class="venue-name" data-translate="Al Hijaaz Mosque">Al Hijaaz Mosque</div>
                    </div>
                  </label>
                  <label class="venue-option">
                    <input
                      type="radio"
                      name="sessionVenue"
                      value="Masjid Abii Bakar"
                      data-requires-floor="true"
                      required
                    />
                    <div class="venue-card">
                      <div class="venue-icon">üïå</div>
                      <div class="venue-name" data-translate="Masjid Abii Bakar">Masjid Abii Bakar</div>
                    </div>
                  </label>
                  <label class="venue-option">
                    <input
                      type="radio"
                      name="sessionVenue"
                      value="Al Hidaayah Mosque"
                      data-requires-floor="false"
                      required
                    />
                    <div class="venue-card">
                      <div class="venue-icon">üïå</div>
                      <div class="venue-name" data-translate="Al Hidaayah Mosque">Al Hidaayah Mosque</div>
                    </div>
                  </label>
                </div>

                <!-- Floor Selection (only for Masjid Abii Bakar) -->
                <div id="floorSelection" class="floor-selection hidden">
                  <h3 data-translate="Select Floor">Select Floor</h3>
                  <div class="floor-grid">
                    <label class="floor-option">
                      <input type="radio" name="sessionFloor" value="3rd Floor" />
                      <div class="floor-card">3rd Floor</div>
                    </label>
                    <label class="floor-option">
                      <input type="radio" name="sessionFloor" value="5th Floor" />
                      <div class="floor-card">5th Floor</div>
                    </label>
                    <label class="floor-option">
                      <input type="radio" name="sessionFloor" value="6th Floor" />
                      <div class="floor-card">6th Floor</div>
                    </label>
                    <label class="floor-option">
                      <input type="radio" name="sessionFloor" value="Rooftop" />
                      <div class="floor-card">Rooftop</div>
                    </label>
                  </div>
                </div>
                <div class="step-actions">
                  <button type="button" class="btn-secondary prev-step">
                    ‚Üê Back
                  </button>
                  <button type="submit" class="btn-primary" id="submitButton">
                    <span id="submitButtonText">Complete Booking</span>
                  </button>
                </div>
              </div>
            </form>
          </div>

          <!-- My Bookings Section -->
          <div class="my-bookings-section">
            <h2>My Bookings</h2>
            <div id="myBookings" class="bookings-list"></div>
          </div>
        </div>
      </section>

      <!-- Success Modal -->
      <div id="successModal" class="modal hidden">
        <div class="modal-content">
          <div class="success-icon">‚úì</div>
          <h3>Session Booked Successfully!</h3>
          <p>Your booking has been confirmed and sent to your email.</p>
          <button class="btn-primary" id="closeSuccessModal">Continue</button>
        </div>
      </div>
    </main>

    <script src="js/translations.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/sessions.js"></script>
  </body>
</html>
